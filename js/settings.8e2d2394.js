(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["settings"],{"13d9":function(e,t){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,s=[],a=0;a<e.rangeCount;a++)s.push(e.getRangeAt(a));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null;break}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||s.forEach((function(t){e.addRange(t)})),t&&t.focus()}}},"1f33":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"loader-container edit-list is-max-width-desktop",class:{"is-loading":e.listService.loading}},[e.list.isArchived?s("div",{staticClass:"notification is-warning"},[e._v(" This list is archived. It is not possible to create new or edit tasks or it. ")]):e._e(),s("div",{staticClass:"card"},[e._m(0),s("div",{staticClass:"card-content"},[s("div",{staticClass:"content"},[s("form",{on:{submit:function(t){return t.preventDefault(),e.submit()}}},[s("div",{staticClass:"field"},[s("label",{staticClass:"label",attrs:{for:"listtext"}},[e._v("List Name")]),s("div",{staticClass:"control"},[s("input",{directives:[{name:"focus",rawName:"v-focus"},{name:"model",rawName:"v-model",value:e.list.title,expression:"list.title"}],staticClass:"input",class:{disabled:e.listService.loading},attrs:{disabled:e.listService.loading,type:"text",id:"listtext",placeholder:"The list title goes here..."},domProps:{value:e.list.title},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submit(t)},input:function(t){t.target.composing||e.$set(e.list,"title",t.target.value)}}})])]),s("div",{staticClass:"field"},[s("label",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"The list identifier can be used to uniquely identify a task across lists. You can set it to empty to disable it.",expression:"'The list identifier can be used to uniquely identify a task across lists. You can set it to empty to disable it.'"}],staticClass:"label",attrs:{for:"listtext"}},[e._v(" List Identifier ")]),s("div",{staticClass:"control"},[s("input",{directives:[{name:"focus",rawName:"v-focus"},{name:"model",rawName:"v-model",value:e.list.identifier,expression:"list.identifier"}],staticClass:"input",class:{disabled:e.listService.loading},attrs:{disabled:e.listService.loading,type:"text",id:"listtext",placeholder:"The list identifier goes here..."},domProps:{value:e.list.identifier},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submit(t)},input:function(t){t.target.composing||e.$set(e.list,"identifier",t.target.value)}}})])]),s("div",{staticClass:"field"},[s("label",{staticClass:"label",attrs:{for:"listdescription"}},[e._v("Description")]),s("div",{staticClass:"control"},[s("editor",{class:{disabled:e.listService.loading},attrs:{disabled:e.listService.loading,placeholder:"The lists description goes here...",id:"listdescription","preview-is-default":!1},model:{value:e.list.description,callback:function(t){e.$set(e.list,"description",t)},expression:"list.description"}})],1)]),s("div",{staticClass:"field"},[s("label",{staticClass:"label",attrs:{for:"isArchivedCheck"}},[e._v("Is Archived")]),s("div",{staticClass:"control"},[s("fancycheckbox",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"If a list is archived, you cannot create new tasks or edit the list or existing tasks.",expression:"'If a list is archived, you cannot create new tasks or edit the list or existing tasks.'"}],model:{value:e.list.isArchived,callback:function(t){e.$set(e.list,"isArchived",t)},expression:"list.isArchived"}},[e._v(" This list is archived ")])],1)]),s("div",{staticClass:"field"},[s("label",{staticClass:"label"},[e._v("Color")]),s("div",{staticClass:"control"},[s("color-picker",{model:{value:e.list.hexColor,callback:function(t){e.$set(e.list,"hexColor",t)},expression:"list.hexColor"}})],1)])]),s("div",{staticClass:"columns bigbuttons"},[s("div",{staticClass:"column"},[s("button",{staticClass:"button is-primary is-fullwidth",class:{"is-loading":e.listService.loading},on:{click:function(t){return e.submit()}}},[e._v(" Save ")])]),s("div",{staticClass:"column is-1"},[s("button",{staticClass:"button is-danger is-fullwidth",class:{"is-loading":e.listService.loading},on:{click:function(t){e.showDeleteModal=!0}}},[s("span",{staticClass:"icon is-small"},[s("icon",{attrs:{icon:"trash-alt"}})],1)])])])])])]),s("div",{staticClass:"card"},[e._m(1),s("div",{staticClass:"card-content"},[s("div",{staticClass:"content"},[s("p",[e._v("Select a namespace which should hold the duplicated list:")]),s("div",{staticClass:"field is-grouped"},[s("p",{staticClass:"control is-expanded"},[s("namespace-search",{on:{selected:e.selectNamespace}})],1),s("p",{staticClass:"control"},[s("button",{staticClass:"button is-success",class:{"is-loading":e.listDuplicateService.loading},attrs:{type:"submit"},on:{click:e.duplicateList}},[s("span",{staticClass:"icon is-small"},[s("icon",{attrs:{icon:"plus"}})],1),e._v(" Add ")])])])])])]),s("background",{attrs:{"list-id":e.$route.params.id}}),s(e.manageUsersComponent,{tag:"component",attrs:{id:e.list.id,type:"list",shareType:"user",userIsAdmin:e.userIsAdmin}}),s(e.manageTeamsComponent,{tag:"component",attrs:{id:e.list.id,type:"list",shareType:"team",userIsAdmin:e.userIsAdmin}}),e.linkSharingEnabled?s("link-sharing",{attrs:{"list-id":e.$route.params.id}}):e._e(),e.showDeleteModal?s("modal",{on:{close:function(t){e.showDeleteModal=!1},submit:function(t){return e.deleteList()}}},[s("span",{attrs:{slot:"header"},slot:"header"},[e._v("Delete the list")]),s("p",{attrs:{slot:"text"},slot:"text"},[e._v("Are you sure you want to delete this list and all of its contents? "),s("br"),e._v("This includes all tasks and "),s("b",[e._v("CANNOT BE UNDONE!")])])]):e._e()],1)},i=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("header",{staticClass:"card-header"},[s("p",{staticClass:"card-header-title"},[e._v(" Edit List ")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("header",{staticClass:"card-header"},[s("p",{staticClass:"card-header-title"},[e._v(" Duplicate this list ")])])}],n=(s("d3b7"),s("a18c")),c=s("dda9"),r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"card is-fullwidth"},[e._m(0),s("div",{staticClass:"card-content content sharables-list"},[s("form",{staticClass:"add-form",on:{submit:function(t){return t.preventDefault(),e.add()}}},[s("p",[e._v(" Share with a link: ")]),s("div",{staticClass:"field has-addons"},[s("div",{staticClass:"control"},[s("div",{staticClass:"select"},[s("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedRight,expression:"selectedRight"}],on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedRight=t.target.multiple?s:s[0]}}},[s("option",{domProps:{value:e.rights.READ}},[e._v("Read only")]),s("option",{domProps:{value:e.rights.READ_WRITE}},[e._v("Read & write")]),s("option",{domProps:{value:e.rights.ADMIN}},[e._v("Admin")])])])]),e._m(1)])]),s("table",{staticClass:"table is-striped is-hoverable is-fullwidth link-share-list"},[s("tbody",[e._m(2),e.linkShares.length>0?e._l(e.linkShares,(function(t){return s("tr",{key:t.id},[s("td",[s("div",{staticClass:"field has-addons"},[s("div",{staticClass:"control"},[s("input",{staticClass:"input",attrs:{type:"text",readonly:""},domProps:{value:e.getShareLink(t.hash)}})]),s("div",{staticClass:"control"},[s("a",{staticClass:"button is-success noshadow",on:{click:function(s){e.copy(e.getShareLink(t.hash))}}},[s("span",{staticClass:"icon"},[s("icon",{attrs:{icon:"paste"}})],1)])])])]),s("td",[e._v(" "+e._s(t.sharedBy.username)+" ")]),s("td",{staticClass:"type"},[t.right===e.rights.ADMIN?[s("span",{staticClass:"icon is-small"},[s("icon",{attrs:{icon:"lock"}})],1),e._v(" Admin ")]:t.right===e.rights.READ_WRITE?[s("span",{staticClass:"icon is-small"},[s("icon",{attrs:{icon:"pen"}})],1),e._v(" Write ")]:[s("span",{staticClass:"icon is-small"},[s("icon",{attrs:{icon:"users"}})],1),e._v(" Read-only ")]],2),s("td",{staticClass:"actions"},[s("button",{staticClass:"button is-danger icon-only",on:{click:function(){e.linkIdToDelete=t.id,e.showDeleteModal=!0}}},[s("span",{staticClass:"icon"},[s("icon",{attrs:{icon:"trash-alt"}})],1)])])])})):e._e()],2)])]),e.showDeleteModal?s("modal",{on:{close:function(t){e.showDeleteModal=!1},submit:function(t){return e.remove()}}},[s("span",{attrs:{slot:"header"},slot:"header"},[e._v("Remove a link share")]),s("p",{attrs:{slot:"text"},slot:"text"},[e._v("Are you sure you want to remove this link share?"),s("br"),e._v(" It will no longer be possible to access this list with this link share."),s("br"),s("b",[e._v("This CANNOT BE UNDONE!")])])]):e._e()],1)},l=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("header",{staticClass:"card-header"},[s("p",{staticClass:"card-header-title"},[e._v(" Share links ")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"control"},[s("button",{staticClass:"button is-success",attrs:{type:"submit"}},[e._v(" Share ")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("tr",[s("th",[e._v("Link")]),s("th",[e._v("Shared by")]),s("th",[e._v("Right")]),s("th",[e._v("Delete")])])}],o=s("a1b4"),u=s("276c"),d=s("e954"),h=s("920b"),m=s("92a6"),p=s("0402"),f=s("b1c6"),v=s("8654"),b=function(e){Object(h["a"])(s,e);var t=Object(m["a"])(s);function s(e){var a;return Object(u["a"])(this,s),a=t.call(this,e),a.sharedBy=new v["a"](a.sharedBy),a.created=new Date(a.created),a.updated=new Date(a.updated),a}return Object(d["a"])(s,[{key:"defaults",value:function(){return{id:0,hash:"",right:0,sharedBy:v["a"],sharingType:0,listId:0,created:null,updated:null}}}]),s}(f["a"]),g=s("737d"),y=function(e){Object(h["a"])(s,e);var t=Object(m["a"])(s);function s(){return Object(u["a"])(this,s),t.call(this,{getAll:"/lists/{listId}/shares",get:"/lists/{listId}/shares/{id}",create:"/lists/{listId}/shares",delete:"/lists/{listId}/shares/{id}"})}return Object(d["a"])(s,[{key:"processModel",value:function(e){return e.created=Object(g["a"])(e.created),e.updated=Object(g["a"])(e.updated),e}},{key:"modelFactory",value:function(e){return new b(e)}}]),s}(p["a"]),w=s("f904"),k=s.n(w),C=s("2f62"),_=void 0,S={name:"linkSharing",props:{listId:{default:0,required:!0}},data:function(){return{linkShares:[],linkShareService:y,newLinkShare:b,rights:o,selectedRight:o.READ,showDeleteModal:!1,linkIdToDelete:0}},beforeMount:function(){this.linkShareService=new y},created:function(){this.linkShareService=new y,this.load()},watch:{listId:function(){_.load()}},computed:Object(C["b"])({frontendUrl:function(e){return e.config.frontendUrl}}),methods:{load:function(){var e=this;0!==this.listId&&this.linkShareService.getAll({listId:this.listId}).then((function(t){e.linkShares=t})).catch((function(t){e.error(t,e)}))},add:function(){var e=this,t=new b({right:this.selectedRight,listId:this.listId});this.linkShareService.create(t).then((function(){e.selectedRight=o.READ,e.success({message:"The link share was successfully created"},e),e.load()})).catch((function(t){e.error(t,e)}))},remove:function(){var e=this,t=new b({id:this.linkIdToDelete,listId:this.listId});this.linkShareService.delete(t).then((function(){e.success({message:"The link share was successfully deleted"},e),e.load()})).catch((function(t){e.error(t,e)})).finally((function(){e.showDeleteModal=!1}))},copy:function(e){k()(e)},getShareLink:function(e){return this.frontendUrl+"share/"+e+"/auth"}}},O=S,I=s("2877"),T=Object(I["a"])(O,r,l,!1,null,null,null),j=T.exports,x=s("4cef"),A=s("8ac1"),E=s("f792"),D=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.uploadBackgroundEnabled||e.unsplashBackgroundEnabled?s("div",{staticClass:"card list-background-setting loader-container",class:{"is-loading":e.backgroundService.loading}},[e._m(0),s("div",{staticClass:"card-content"},[e.uploadBackgroundEnabled?s("div",{staticClass:"content"},[s("input",{ref:"backgroundUploadInput",staticClass:"is-hidden",attrs:{type:"file",accept:"image/*"},on:{change:e.uploadBackground}}),s("a",{staticClass:"button is-primary",class:{"is-loading":e.backgroundUploadService.loading},on:{click:function(t){return e.$refs.backgroundUploadInput.click()}}},[e._v(" Choose a background from your pc ")])]):e._e(),e.unsplashBackgroundEnabled?s("div",{staticClass:"content"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.backgroundSearchTerm,expression:"backgroundSearchTerm"}],staticClass:"input is-expanded",class:{"is-loading":e.backgroundService.loading},attrs:{type:"text",placeholder:"Search for a background..."},domProps:{value:e.backgroundSearchTerm},on:{keyup:function(){return e.newBackgroundSearch()},input:function(t){t.target.composing||(e.backgroundSearchTerm=t.target.value)}}}),e._m(1),s("div",{staticClass:"image-search-result"},e._l(e.backgroundSearchResult,(function(t){return s("a",{key:t.id,staticClass:"image",style:{"background-image":"url("+e.backgroundThumbs[t.id]+")"},on:{click:function(){return e.setBackground(t.id)}}},[s("a",{staticClass:"info",attrs:{href:"https://unsplash.com/@"+t.info.author}},[e._v(" "+e._s(t.info.authorName)+" ")])])})),0),e.backgroundSearchResult.length>0?s("a",{staticClass:"button is-primary is-centered is-load-more-button is-outlined noshadow",attrs:{disabled:e.backgroundService.loading},on:{click:function(){return e.searchBackgrounds(e.currentPage+1)}}},[e.backgroundService.loading?[e._v(" Loading... ")]:[e._v(" Load more photos ")]],2):e._e()]):e._e()])]):e._e()},N=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("header",{staticClass:"card-header"},[s("p",{staticClass:"card-header-title"},[e._v(" Set list background ")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("p",{staticClass:"unsplash-link"},[s("a",{attrs:{href:"https://unsplash.com",target:"_blank"}},[e._v("Powered by Unsplash")])])}],M=(s("99af"),s("4160"),s("caad"),s("2532"),s("159b"),s("3ca3"),s("ddb0"),s("2b3d"),function(e){Object(h["a"])(s,e);var t=Object(m["a"])(s);function s(){return Object(u["a"])(this,s),t.apply(this,arguments)}return Object(d["a"])(s,[{key:"defaults",value:function(){return{id:0,url:"",thumb:"",info:{}}}}]),s}(f["a"])),$=function(e){Object(h["a"])(s,e);var t=Object(m["a"])(s);function s(){return Object(u["a"])(this,s),t.call(this,{getAll:"/backgrounds/unsplash/search",update:"/lists/{listId}/backgrounds/unsplash"})}return Object(d["a"])(s,[{key:"modelFactory",value:function(e){return new M(e)}},{key:"modelUpdateFactory",value:function(e){return new x["a"](e)}},{key:"thumb",value:function(e){return this.http({url:"/backgrounds/unsplash/images/".concat(e.id,"/thumb"),method:"GET",responseType:"blob"}).then((function(e){return window.URL.createObjectURL(new Blob([e.data]))})).catch((function(e){return e}))}}]),s}(p["a"]),R=function(e){Object(h["a"])(s,e);var t=Object(m["a"])(s);function s(){return Object(u["a"])(this,s),t.call(this,{create:"/lists/{listId}/backgrounds/upload"})}return Object(d["a"])(s,[{key:"useCreateInterceptor",value:function(){return!1}},{key:"modelCreateFactory",value:function(e){return new x["a"](e)}},{key:"create",value:function(e,t){return this.uploadFile(this.getReplacedRoute(this.paths.create,{listId:e}),t,"background")}}]),s}(p["a"]),U=s("9fb0"),P={name:"background-settings",data:function(){return{backgroundSearchTerm:"",backgroundSearchResult:[],backgroundService:null,backgroundThumbs:{},currentPage:1,backgroundSearchTimeout:null,backgroundUploadService:null}},props:{listId:{default:0,required:!0}},computed:{unsplashBackgroundEnabled:function(){return this.$store.state.config.enabledBackgroundProviders.includes("unsplash")},uploadBackgroundEnabled:function(){return this.$store.state.config.enabledBackgroundProviders.includes("upload")}},created:function(){this.backgroundService=new $,this.backgroundUploadService=new R,this.newBackgroundSearch()},methods:{newBackgroundSearch:function(){this.unsplashBackgroundEnabled&&(this.$set(this,"backgroundSearchResult",[]),this.$set(this,"backgroundThumbs",{}),this.searchBackgrounds())},searchBackgrounds:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;null!==this.backgroundSearchTimeout&&clearTimeout(this.backgroundSearchTimeout),this.backgroundSearchTimeout=setTimeout((function(){e.currentPage=t,e.backgroundService.getAll({},{s:e.backgroundSearchTerm,p:t}).then((function(t){e.backgroundSearchResult=e.backgroundSearchResult.concat(t),t.forEach((function(t){e.backgroundService.thumb(t).then((function(s){e.$set(e.backgroundThumbs,t.id,s)}))}))})).catch((function(t){e.error(t,e)}))}),300)},setBackground:function(e){var t=this;this.backgroundService.loading||this.backgroundService.update({id:e,listId:this.listId}).then((function(e){t.$store.commit(U["b"],e),t.$store.commit("namespaces/setListInNamespaceById",e),t.success({message:"The background has been set successfully!"},t)})).catch((function(e){t.error(e,t)}))},uploadBackground:function(){var e=this;0!==this.$refs.backgroundUploadInput.files.length&&this.backgroundUploadService.create(this.listId,this.$refs.backgroundUploadInput.files[0]).then((function(t){e.$store.commit(U["b"],t),e.$store.commit("namespaces/setListInNamespaceById",t),e.success({message:"The background has been set successfully!"},e)})).catch((function(t){e.error(t,e)}))}}},B=P,L=Object(I["a"])(B,D,N,!1,null,null,null),F=L.exports,W=s("818c"),q=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("multiselect",{attrs:{options:e.namespaces,multiple:!1,searchable:!0,loading:e.namespaceService.loading,"internal-search":!0,placeholder:"Search for a namespace...",showNoOptions:!1,label:"title","track-by":"id"},on:{"search-change":e.findNamespaces,select:e.select},scopedSlots:e._u([{key:"clear",fn:function(t){return[0!==e.namespace.id?s("div",{staticClass:"multiselect__clear",on:{mousedown:function(s){return s.preventDefault(),s.stopPropagation(),e.clearAll(t.search)}}}):e._e()]}}]),model:{value:e.namespace,callback:function(t){e.namespace=t},expression:"namespace"}},[s("span",{attrs:{slot:"noResult"},slot:"noResult"},[e._v("No namespace found. Consider changing the search query.")])])},G=[],Y=s("886e"),z=s("0260"),J=s("61be"),X=s("2885"),H={name:"namespace-search",data:function(){return{namespaceService:Y["a"],namespace:z["a"],namespaces:[]}},components:{multiselect:function(){return{component:s.e("multiselect").then(s.t.bind(null,"8e5f",7)),loading:J["a"],error:X["a"],timeout:6e4}}},created:function(){this.namespaceService=new Y["a"]},methods:{findNamespaces:function(e){var t=this;""!==e?this.namespaceService.getAll({},{s:e}).then((function(e){t.$set(t,"namespaces",e)})).catch((function(e){t.error(e,t)})):this.clearAll()},clearAll:function(){this.$set(this,"namespaces",[])},select:function(e){this.$emit("selected",e)}}},K=H,Q=Object(I["a"])(K,q,G,!1,null,null,null),V=Q.exports,Z=function(e){Object(h["a"])(s,e);var t=Object(m["a"])(s);function s(e){var a;return Object(u["a"])(this,s),a=t.call(this,e),a.list=new x["a"](a.list),a}return Object(d["a"])(s,[{key:"defaults",value:function(){return{listId:0,namespaceId:0,list:x["a"]}}}]),s}(f["a"]),ee=function(e){Object(h["a"])(s,e);var t=Object(m["a"])(s);function s(){return Object(u["a"])(this,s),t.call(this,{create:"/lists/{listId}/duplicate"})}return Object(d["a"])(s,[{key:"beforeCreate",value:function(e){return e.list=null,e}},{key:"modelFactory",value:function(e){return new Z(e)}}]),s}(p["a"]),te={name:"EditList",data:function(){return{list:x["a"],listService:A["a"],showDeleteModal:!1,manageUsersComponent:"",manageTeamsComponent:"",listDuplicateService:ee,selectedNamespace:null}},components:{NamespaceSearch:V,ColorPicker:W["a"],Background:F,Fancycheckbox:E["a"],LinkSharing:j,manageSharing:c["a"],editor:function(){return{component:s.e("editor").then(s.bind(null,"d593")),loading:J["a"],error:X["a"],timeout:6e4}}},created:function(){this.listService=new A["a"],this.listDuplicateService=new ee,this.loadList()},watch:{$route:"loadList"},computed:{linkSharingEnabled:function(){return this.$store.state.config.linkSharingEnabled},userIsAdmin:function(){return this.list.owner&&this.list.owner.id===this.$store.state.auth.info.id}},methods:{loadList:function(){var e=this,t=new x["a"]({id:this.$route.params.id});this.listService.get(t).then((function(t){e.$set(e,"list",t),e.$store.commit(U["b"],t),e.manageTeamsComponent="manageSharing",e.manageUsersComponent="manageSharing",e.setTitle("Edit ".concat(e.list.title))})).catch((function(t){e.error(t,e)}))},submit:function(){var e=this;this.listService.update(this.list).then((function(t){e.$store.commit("namespaces/setListInNamespaceById",t),e.success({message:"The list was successfully updated."},e)})).catch((function(t){e.error(t,e)}))},deleteList:function(){var e=this;this.listService.delete(this.list).then((function(){e.success({message:"The list was successfully deleted."},e),n["a"].push({name:"home"})})).catch((function(t){e.error(t,e)}))},selectNamespace:function(e){this.selectedNamespace=e},duplicateList:function(){var e=this,t=new Z({listId:this.list.id,namespaceId:this.selectedNamespace.id});this.listDuplicateService.create(t).then((function(t){e.$store.commit("namespaces/addListToNamespace",t.list),e.success({message:"The list was successfully duplicated."},e),n["a"].push({name:"list.index",params:{listId:t.list.id}})})).catch((function(t){e.error(t,e)}))}}},se=te,ae=Object(I["a"])(se,a,i,!1,null,null,null);t["default"]=ae.exports},2532:function(e,t,s){"use strict";var a=s("23e7"),i=s("5a34"),n=s("1d80"),c=s("ab13");a({target:"String",proto:!0,forced:!c("includes")},{includes:function(e){return!!~String(n(this)).indexOf(i(e),arguments.length>1?arguments[1]:void 0)}})},"2f15":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"loader-container is-max-width-desktop",class:{"is-loading":e.teamService.loading}},[e.userIsAdmin?s("div",{staticClass:"card is-fullwidth"},[e._m(0),s("div",{staticClass:"card-content"},[s("div",{staticClass:"content"},[s("form",{on:{submit:function(t){return t.preventDefault(),e.submit()}}},[s("div",{staticClass:"field"},[s("label",{staticClass:"label",attrs:{for:"teamtext"}},[e._v("Team Name")]),s("div",{staticClass:"control"},[s("input",{directives:[{name:"focus",rawName:"v-focus"},{name:"model",rawName:"v-model",value:e.team.name,expression:"team.name"}],staticClass:"input",class:{disabled:e.teamMemberService.loading},attrs:{disabled:e.teamMemberService.loading,type:"text",id:"teamtext",placeholder:"The team text is here..."},domProps:{value:e.team.name},on:{input:function(t){t.target.composing||e.$set(e.team,"name",t.target.value)}}})])]),e.showError&&""===e.team.name?s("p",{staticClass:"help is-danger"},[e._v(" Please specify a name. ")]):e._e(),s("div",{staticClass:"field"},[s("label",{staticClass:"label",attrs:{for:"teamdescription"}},[e._v("Description")]),s("div",{staticClass:"control"},[s("editor",{class:{disabled:e.teamService.loading},attrs:{disabled:e.teamService.loading,placeholder:"The teams description goes here...",id:"teamdescription","preview-is-default":!1},model:{value:e.team.description,callback:function(t){e.$set(e.team,"description",t)},expression:"team.description"}})],1)])]),s("div",{staticClass:"columns bigbuttons"},[s("div",{staticClass:"column"},[s("button",{staticClass:"button is-primary is-fullwidth",class:{"is-loading":e.teamService.loading},on:{click:function(t){return e.submit()}}},[e._v(" Save ")])]),s("div",{staticClass:"column is-1"},[s("button",{staticClass:"button is-danger is-fullwidth",class:{"is-loading":e.teamService.loading},on:{click:function(t){e.showDeleteModal=!0}}},[s("span",{staticClass:"icon is-small"},[s("icon",{attrs:{icon:"trash-alt"}})],1)])])])])])]):e._e(),s("div",{staticClass:"card is-fullwidth"},[e._m(1),s("div",{staticClass:"card-content content team-members"},[e.userIsAdmin?s("form",{staticClass:"add-member-form",on:{submit:function(t){return t.preventDefault(),e.addUser()}}},[s("div",{staticClass:"field is-grouped"},[s("p",{staticClass:"control has-icons-left is-expanded",class:{"is-loading":e.teamMemberService.loading}},[s("multiselect",{attrs:{options:e.foundUsers,multiple:!1,searchable:!0,loading:e.userService.loading,"internal-search":!0,placeholder:"Type to search...",showNoOptions:!1,label:"username","track-by":"id"},on:{"search-change":e.findUser},scopedSlots:e._u([{key:"clear",fn:function(t){return[null!==e.newMember&&0!==e.newMember.id?s("div",{staticClass:"multiselect__clear",on:{mousedown:function(s){return s.preventDefault(),s.stopPropagation(),e.clearAll(t.search)}}}):e._e()]}}],null,!1,2430713682),model:{value:e.newMember,callback:function(t){e.newMember=t},expression:"newMember"}},[s("span",{attrs:{slot:"noResult"},slot:"noResult"},[e._v("Oops! No user found. Consider changing the search query.")])])],1),s("p",{staticClass:"control"},[s("button",{staticClass:"button is-success",attrs:{type:"submit"}},[s("span",{staticClass:"icon is-small"},[s("icon",{attrs:{icon:"plus"}})],1),e._v(" Add ")])])])]):e._e(),s("table",{staticClass:"table is-striped is-hoverable is-fullwidth"},[s("tbody",e._l(e.team.members,(function(t){return s("tr",{key:t.id},[s("td",[e._v(e._s(t.username))]),s("td",[t.id===e.userInfo.id?[s("b",{staticClass:"is-success"},[e._v("You")])]:e._e()],2),s("td",{staticClass:"type"},[t.admin?[s("span",{staticClass:"icon is-small"},[s("icon",{attrs:{icon:"lock"}})],1),e._v(" Admin ")]:[s("span",{staticClass:"icon is-small"},[s("icon",{attrs:{icon:"user"}})],1),e._v(" Member ")]],2),e.userIsAdmin?s("td",{staticClass:"actions"},[t.id!==e.userInfo.id?s("button",{staticClass:"button buttonright is-primary",class:{"is-loading":e.teamMemberService.loading},on:{click:function(s){return e.toggleUserType(t)}}},[e._v(" Make "),t.admin?[e._v(" Member ")]:[e._v(" Admin ")]],2):e._e(),t.id!==e.userInfo.id?s("button",{staticClass:"button is-danger",class:{"is-loading":e.teamMemberService.loading},on:{click:function(){e.member=t,e.showUserDeleteModal=!0}}},[s("span",{staticClass:"icon is-small"},[s("icon",{attrs:{icon:"trash-alt"}})],1)]):e._e()]):e._e()])})),0)])])]),e.showDeleteModal?s("modal",{on:{close:function(t){e.showDeleteModal=!1},submit:function(t){return e.deleteTeam()}}},[s("span",{attrs:{slot:"header"},slot:"header"},[e._v("Delete the team")]),s("p",{attrs:{slot:"text"},slot:"text"},[e._v("Are you sure you want to delete this team and all of its members?"),s("br"),e._v(" All team members will loose access to lists and namespaces shared with this team."),s("br"),s("b",[e._v("This CANNOT BE UNDONE!")])])]):e._e(),e.showUserDeleteModal?s("modal",{on:{close:function(t){e.showUserDeleteModal=!1},submit:function(t){return e.deleteUser()}}},[s("span",{attrs:{slot:"header"},slot:"header"},[e._v("Remove a user from the team")]),s("p",{attrs:{slot:"text"},slot:"text"},[e._v("Are you sure you want to remove this user from the team?"),s("br"),e._v(" They will loose access to all lists and namespaces this team has access to."),s("br"),s("b",[e._v("This CANNOT BE UNDONE!")])])]):e._e()],1)},i=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("header",{staticClass:"card-header"},[s("p",{staticClass:"card-header-title"},[e._v(" Edit Team ")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("header",{staticClass:"card-header"},[s("p",{staticClass:"card-header-title"},[e._v(" Team Members ")])])}],n=(s("b0c0"),s("d3b7"),s("f3f3")),c=s("a18c"),r=s("2f62"),l=s("0eb6"),o=s("6399"),u=s("276c"),d=s("e954"),h=s("920b"),m=s("92a6"),p=s("0402"),f=s("2505"),v=s("737d"),b=function(e){Object(h["a"])(s,e);var t=Object(m["a"])(s);function s(){return Object(u["a"])(this,s),t.call(this,{create:"/teams/{teamId}/members",delete:"/teams/{teamId}/members/{username}",update:"/teams/{teamId}/members/{username}/admin"})}return Object(d["a"])(s,[{key:"processModel",value:function(e){return e.created=Object(v["a"])(e.created),e.updated=Object(v["a"])(e.updated),e}},{key:"modelFactory",value:function(e){return new f["a"](e)}},{key:"beforeCreate",value:function(e){return e.userId=e.id,e.admin=null!==e.admin&&e.admin,e}}]),s}(p["a"]),g=s("8654"),y=s("93d6"),w=s("61be"),k=s("2885"),C=s("a1b4"),_={name:"EditTeam",data:function(){return{teamService:l["a"],teamMemberService:b,team:o["a"],teamId:this.$route.params.id,member:f["a"],showDeleteModal:!1,showUserDeleteModal:!1,newMember:g["a"],foundUsers:[],userService:y["a"],showError:!1}},components:{multiselect:function(){return{component:s.e("multiselect").then(s.t.bind(null,"8e5f",7)),loading:w["a"],error:k["a"],timeout:6e4}},editor:function(){return{component:s.e("editor").then(s.bind(null,"d593")),loading:w["a"],error:k["a"],timeout:6e4}}},created:function(){this.teamService=new l["a"],this.teamMemberService=new b,this.userService=new y["a"],this.loadTeam()},watch:{$route:"loadTeam"},computed:Object(n["a"])({userIsAdmin:function(){return this.team&&this.team.maxRight&&this.team.maxRight>C.READ}},Object(r["b"])({userInfo:function(e){return e.auth.info}})),methods:{loadTeam:function(){var e=this;this.team=new o["a"]({id:this.teamId}),this.teamService.get(this.team).then((function(t){e.$set(e,"team",t),e.setTitle("Edit Team ".concat(e.team.name))})).catch((function(t){e.error(t,e)}))},submit:function(){var e=this;""!==this.team.name?(this.showError=!1,this.teamService.update(this.team).then((function(t){e.team=t,e.success({message:"The team was successfully updated."},e)})).catch((function(t){e.error(t,e)}))):this.showError=!0},deleteTeam:function(){var e=this;this.teamService.delete(this.team).then((function(){e.success({message:"The team was successfully deleted."},e),c["a"].push({name:"teams.index"})})).catch((function(t){e.error(t,e)}))},deleteUser:function(){var e=this;this.teamMemberService.delete(this.member).then((function(){e.success({message:"The user was successfully deleted from the team."},e),e.loadTeam()})).catch((function(t){e.error(t,e)})).finally((function(){e.showUserDeleteModal=!1}))},addUser:function(){var e=this,t=new f["a"]({teamId:this.teamId,username:this.newMember.username});this.teamMemberService.create(t).then((function(){e.loadTeam(),e.success({message:"The team member was successfully added."},e)})).catch((function(t){e.error(t,e)}))},toggleUserType:function(e){var t=this;e.admin=!e.admin,this.teamMemberService.update(e).then((function(s){for(var a in t.team.members)if(t.team.members[a].id===e.id){t.$set(t.team.members[a],"admin",s.admin);break}t.success({message:"The team member was successfully made "+(e.admin?"admin":"member")+"."},t)})).catch((function(e){t.error(e,t)}))},findUser:function(e){var t=this;""!==e?this.userService.getAll({},{s:e}).then((function(e){t.$set(t,"foundUsers",e)})).catch((function(e){t.error(e,t)})):this.$set(this,"foundUsers",[])},clearAll:function(){this.$set(this,"foundUsers",[])}}},S=_,O=(s("64ba"),s("2877")),I=Object(O["a"])(S,a,i,!1,null,"e82dc940",null);t["default"]=I.exports},"49f4":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"fullpage"},[s("a",{staticClass:"close",on:{click:function(t){return e.back()}}},[s("icon",{attrs:{icon:["far","times-circle"]}})],1),s("h3",[e._v("Create a new namespace")]),s("div",{staticClass:"field is-grouped"},[s("p",{staticClass:"control is-expanded",class:{"is-loading":e.namespaceService.loading}},[s("input",{directives:[{name:"focus",rawName:"v-focus"},{name:"model",rawName:"v-model",value:e.namespace.title,expression:"namespace.title"}],staticClass:"input",class:{disabled:e.namespaceService.loading},attrs:{type:"text",placeholder:"The namespace's name goes here..."},domProps:{value:e.namespace.title},on:{keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.newNamespace()},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.back()}],input:function(t){t.target.composing||e.$set(e.namespace,"title",t.target.value)}}})]),s("p",{staticClass:"control"},[s("button",{staticClass:"button is-success noshadow",attrs:{disabled:""===e.namespace.title},on:{click:function(t){return e.newNamespace()}}},[s("span",{staticClass:"icon is-small"},[s("icon",{attrs:{icon:"plus"}})],1),e._v(" Add ")])])]),e.showError&&""===e.namespace.title?s("p",{staticClass:"help is-danger"},[e._v(" Please specify a title. ")]):e._e(),s("p",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:"A namespace is a collection of lists you can share and use to organize your lists with.<br/>In fact, every list belongs to a namepace.",expression:"'A namespace is a collection of lists you can share and use to organize your lists with.<br/>In fact, every list belongs to a namepace.'",modifiers:{bottom:!0}}],staticClass:"small"},[e._v(" What's a namespace?")])])},i=[],n=s("a18c"),c=s("0260"),r=s("886e"),l=s("9fb0"),o={name:"NewNamespace",data:function(){return{showError:!1,namespace:c["a"],namespaceService:r["a"]}},created:function(){this.namespace=new c["a"],this.namespaceService=new r["a"],this.$store.commit(l["e"],!0)},mounted:function(){this.setTitle("Create a new namespace")},methods:{newNamespace:function(){var e=this;""!==this.namespace.title?(this.showError=!1,this.namespaceService.create(this.namespace).then((function(t){e.$store.commit("namespaces/addNamespace",t),e.success({message:"The namespace was successfully created."},e),n["a"].back()})).catch((function(t){e.error(t,e)}))):this.showError=!0},back:function(){n["a"].go(-1)}}},u=o,d=s("2877"),h=Object(d["a"])(u,a,i,!1,null,null,null);t["default"]=h.exports},"64ba":function(e,t,s){"use strict";var a=s("8653"),i=s.n(a);i.a},8653:function(e,t,s){},"93d6":function(e,t,s){"use strict";s.d(t,"a",(function(){return u}));var a=s("276c"),i=s("e954"),n=s("920b"),c=s("92a6"),r=s("0402"),l=s("8654"),o=s("737d"),u=function(e){Object(n["a"])(s,e);var t=Object(c["a"])(s);function s(){return Object(a["a"])(this,s),t.call(this,{getAll:"/users"})}return Object(i["a"])(s,[{key:"processModel",value:function(e){return e.created=Object(o["a"])(e.created),e.updated=Object(o["a"])(e.updated),e}},{key:"modelFactory",value:function(e){return new l["a"](e)}}]),s}(r["a"])},bc9a:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"fullpage"},[s("a",{staticClass:"close",on:{click:function(t){return e.back()}}},[s("icon",{attrs:{icon:["far","times-circle"]}})],1),s("h3",[e._v("Create a new list")]),s("div",{staticClass:"field is-grouped"},[s("p",{staticClass:"control is-expanded",class:{"is-loading":e.listService.loading}},[s("input",{directives:[{name:"focus",rawName:"v-focus"},{name:"model",rawName:"v-model",value:e.list.title,expression:"list.title"}],staticClass:"input",class:{disabled:e.listService.loading},attrs:{type:"text",placeholder:"The list's name goes here..."},domProps:{value:e.list.title},on:{keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.back()},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.newList()}],input:function(t){t.target.composing||e.$set(e.list,"title",t.target.value)}}})]),s("p",{staticClass:"control"},[s("button",{staticClass:"button is-success noshadow",attrs:{disabled:""===e.list.title},on:{click:function(t){return e.newList()}}},[s("span",{staticClass:"icon is-small"},[s("icon",{attrs:{icon:"plus"}})],1),e._v(" Add ")])])]),e.showError&&""===e.list.title?s("p",{staticClass:"help is-danger"},[e._v(" Please specify a title. ")]):e._e()])},i=[],n=s("a18c"),c=s("8ac1"),r=s("4cef"),l=s("9fb0"),o={name:"NewList",data:function(){return{showError:!1,list:r["a"],listService:c["a"]}},created:function(){this.list=new r["a"],this.listService=new c["a"],this.$store.commit(l["e"],!0)},mounted:function(){this.setTitle("Create a new list")},methods:{newList:function(){var e=this;""!==this.list.title?(this.showError=!1,this.list.namespaceId=this.$route.params.id,this.listService.create(this.list).then((function(t){t.namespaceId=e.list.namespaceId,e.$store.commit("namespaces/addListToNamespace",t),e.success({message:"The list was successfully created."},e),n["a"].push({name:"list.index",params:{listId:t.id}})})).catch((function(t){e.error(t,e)}))):this.showError=!0},back:function(){n["a"].go(-1)}}},u=o,d=s("2877"),h=Object(d["a"])(u,a,i,!1,null,null,null);t["default"]=h.exports},caad:function(e,t,s){"use strict";var a=s("23e7"),i=s("4d64").includes,n=s("44d2"),c=s("ae40"),r=c("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:!r},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n("includes")},cf29:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"loader-container is-max-width-desktop",class:{"is-loading":e.namespaceService.loading}},[e.namespace.isArchived?s("div",{staticClass:"notification is-warning"},[e._v(" This namespace is archived. It is not possible to create new lists or edit it. ")]):e._e(),s("div",{staticClass:"card"},[e._m(0),s("div",{staticClass:"card-content"},[s("div",{staticClass:"content"},[s("form",{on:{submit:function(t){return t.preventDefault(),e.submit()}}},[s("div",{staticClass:"field"},[s("label",{staticClass:"label",attrs:{for:"namespacetext"}},[e._v("Namespace Name")]),s("div",{staticClass:"control"},[s("input",{directives:[{name:"focus",rawName:"v-focus"},{name:"model",rawName:"v-model",value:e.namespace.title,expression:"namespace.title"}],staticClass:"input",class:{disabled:e.namespaceService.loading},attrs:{disabled:e.namespaceService.loading,type:"text",id:"namespacetext",placeholder:"The namespace text is here..."},domProps:{value:e.namespace.title},on:{input:function(t){t.target.composing||e.$set(e.namespace,"title",t.target.value)}}})])]),s("div",{staticClass:"field"},[s("label",{staticClass:"label",attrs:{for:"namespacedescription"}},[e._v("Description")]),s("div",{staticClass:"control"},[e.editorActive?s("editor",{class:{disabled:e.namespaceService.loading},attrs:{disabled:e.namespaceService.loading,placeholder:"The namespaces description goes here...",id:"namespacedescription","preview-is-default":!1},model:{value:e.namespace.description,callback:function(t){e.$set(e.namespace,"description",t)},expression:"namespace.description"}}):e._e()],1)]),s("div",{staticClass:"field"},[s("label",{staticClass:"label",attrs:{for:"isArchivedCheck"}},[e._v("Is Archived")]),s("div",{staticClass:"control"},[s("fancycheckbox",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"If a namespace is archived, you cannot create new lists or edit it.",expression:"'If a namespace is archived, you cannot create new lists or edit it.'"}],model:{value:e.namespace.isArchived,callback:function(t){e.$set(e.namespace,"isArchived",t)},expression:"namespace.isArchived"}},[e._v(" This namespace is archived ")])],1)]),s("div",{staticClass:"field"},[s("label",{staticClass:"label"},[e._v("Color")]),s("div",{staticClass:"control"},[s("color-picker",{model:{value:e.namespace.hexColor,callback:function(t){e.$set(e.namespace,"hexColor",t)},expression:"namespace.hexColor"}})],1)])]),s("div",{staticClass:"columns bigbuttons"},[s("div",{staticClass:"column"},[s("button",{staticClass:"button is-primary is-fullwidth",class:{"is-loading":e.namespaceService.loading},on:{click:function(t){return e.submit()}}},[e._v(" Save ")])]),s("div",{staticClass:"column is-1"},[s("button",{staticClass:"button is-danger is-fullwidth",class:{"is-loading":e.namespaceService.loading},on:{click:function(t){e.showDeleteModal=!0}}},[s("span",{staticClass:"icon is-small"},[s("icon",{attrs:{icon:"trash-alt"}})],1)])])])])])]),s(e.manageUsersComponent,{tag:"component",attrs:{id:e.namespace.id,type:"namespace",shareType:"user",userIsAdmin:e.userIsAdmin}}),s(e.manageTeamsComponent,{tag:"component",attrs:{id:e.namespace.id,type:"namespace",shareType:"team",userIsAdmin:e.userIsAdmin}}),e.showDeleteModal?s("modal",{on:{close:function(t){e.showDeleteModal=!1},submit:function(t){return e.deleteNamespace()}}},[s("span",{attrs:{slot:"header"},slot:"header"},[e._v("Delete the namespace")]),s("p",{attrs:{slot:"text"},slot:"text"},[e._v("Are you sure you want to delete this namespace and all of its contents? "),s("br"),e._v("This includes lists & tasks and "),s("b",[e._v("CANNOT BE UNDONE!")])])]):e._e()],1)},i=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("header",{staticClass:"card-header"},[s("p",{staticClass:"card-header-title"},[e._v(" Edit Namespace ")])])}],n=(s("d3b7"),s("a18c")),c=s("dda9"),r=s("886e"),l=s("0260"),o=s("f792"),u=s("818c"),d=s("61be"),h=s("2885"),m={name:"EditNamespace",data:function(){return{namespaceService:r["a"],manageUsersComponent:"",manageTeamsComponent:"",namespace:l["a"],showDeleteModal:!1,editorActive:!1}},components:{ColorPicker:u["a"],Fancycheckbox:o["a"],manageSharing:c["a"],editor:function(){return{component:s.e("editor").then(s.bind(null,"d593")),loading:d["a"],error:h["a"],timeout:6e4}}},beforeMount:function(){this.namespace.id=this.$route.params.id},created:function(){this.namespaceService=new r["a"],this.namespace=new l["a"],this.loadNamespace()},watch:{$route:"loadNamespace"},computed:{userIsAdmin:function(){return this.namespace.owner&&this.namespace.owner.id===this.$store.state.auth.info.id}},methods:{loadNamespace:function(){var e=this;this.editorActive=!1,this.$nextTick((function(){return e.editorActive=!0}));var t=new l["a"]({id:this.$route.params.id});this.namespaceService.get(t).then((function(t){e.$set(e,"namespace",t),e.manageTeamsComponent="manageSharing",e.manageUsersComponent="manageSharing",e.setTitle("Edit ".concat(e.namespace.title))})).catch((function(t){e.error(t,e)}))},submit:function(){var e=this;this.namespaceService.update(this.namespace).then((function(t){e.$store.commit("namespaces/setNamespaceById",t),e.success({message:"The namespace was successfully updated."},e)})).catch((function(t){e.error(t,e)}))},deleteNamespace:function(){var e=this;this.namespaceService.delete(this.namespace).then((function(){e.success({message:"The namespace was successfully deleted."},e),n["a"].push({name:"home"})})).catch((function(t){e.error(t,e)}))}}},p=m,f=s("2877"),v=Object(f["a"])(p,a,i,!1,null,null,null);t["default"]=v.exports},dbb4:function(e,t,s){var a=s("23e7"),i=s("83ab"),n=s("56ef"),c=s("fc6a"),r=s("06cf"),l=s("8418");a({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(e){var t,s,a=c(e),i=r.f,o=n(a),u={},d=0;while(o.length>d)s=i(a,t=o[d++]),void 0!==s&&l(u,t,s);return u}})},dda9:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"card is-fullwidth"},[s("header",{staticClass:"card-header"},[s("p",{staticClass:"card-header-title"},[e._v(" Shared with these "+e._s(e.shareType)+"s ")])]),s("div",{staticClass:"card-content content sharables-list"},[e.userIsAdmin?s("form",{staticClass:"add-form",on:{submit:function(t){return t.preventDefault(),e.add()}}},[s("div",{staticClass:"field is-grouped"},[s("p",{staticClass:"control is-expanded",class:{"is-loading":e.searchService.loading}},[s("multiselect",{attrs:{options:e.found,multiple:!1,searchable:!0,loading:e.searchService.loading,"internal-search":!0,placeholder:"Type to search...",showNoOptions:!1,label:e.searchLabel,"track-by":"id"},on:{"search-change":e.find},scopedSlots:e._u([{key:"clear",fn:function(t){return[0!==e.sharable.id?s("div",{staticClass:"multiselect__clear",on:{mousedown:function(s){return s.preventDefault(),s.stopPropagation(),e.clearAll(t.search)}}}):e._e()]}}],null,!1,2100565130),model:{value:e.sharable,callback:function(t){e.sharable=t},expression:"sharable"}},[s("span",{attrs:{slot:"noResult"},slot:"noResult"},[e._v("Oops! No "+e._s(e.shareType)+" found. Consider changing the search query.")])])],1),s("p",{staticClass:"control"},[s("button",{staticClass:"button is-success",attrs:{type:"submit"}},[s("span",{staticClass:"icon is-small"},[s("icon",{attrs:{icon:"plus"}})],1),e._v(" Add ")])])])]):e._e(),s("table",{staticClass:"table is-striped is-hoverable is-fullwidth"},[s("tbody",e._l(e.sharables,(function(t){return s("tr",{key:t.id},["user"===e.shareType?[s("td",[e._v(e._s(t.username))]),s("td",[t.id===e.userInfo.id?[s("b",{staticClass:"is-success"},[e._v("You")])]:e._e()],2)]:e._e(),"team"===e.shareType?[s("td",[s("router-link",{attrs:{to:{name:"teams.edit",params:{id:t.id}}}},[e._v(" "+e._s(t.name)+" ")])],1)]:e._e(),s("td",{staticClass:"type"},[t.right===e.rights.ADMIN?[s("span",{staticClass:"icon is-small"},[s("icon",{attrs:{icon:"lock"}})],1),e._v(" Admin ")]:t.right===e.rights.READ_WRITE?[s("span",{staticClass:"icon is-small"},[s("icon",{attrs:{icon:"pen"}})],1),e._v(" Write ")]:[s("span",{staticClass:"icon is-small"},[s("icon",{attrs:{icon:"users"}})],1),e._v(" Read-only ")]],2),e.userIsAdmin?s("td",{staticClass:"actions"},[s("div",{staticClass:"select"},[s("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedRight[t.id],expression:"selectedRight[s.id]"}],staticClass:"button buttonright",on:{change:[function(s){var a=Array.prototype.filter.call(s.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.selectedRight,t.id,s.target.multiple?a:a[0])},function(s){return e.toggleType(t)}]}},[s("option",{domProps:{value:e.rights.READ,selected:t.right===e.rights.READ}},[e._v("Read only")]),s("option",{domProps:{value:e.rights.READ_WRITE,selected:t.right===e.rights.READ_WRITE}},[e._v("Read & write")]),s("option",{domProps:{value:e.rights.ADMIN,selected:t.right===e.rights.ADMIN}},[e._v("Admin")])])]),s("button",{staticClass:"button is-danger icon-only",on:{click:function(){e.sharable=t,e.showDeleteModal=!0}}},[s("span",{staticClass:"icon is-small"},[s("icon",{attrs:{icon:"trash-alt"}})],1)])]):e._e()],2)})),0)])]),e.showDeleteModal?s("modal",{on:{close:function(t){e.showDeleteModal=!1},submit:function(t){return e.deleteSharable()}}},[s("span",{attrs:{slot:"header"},slot:"header"},[e._v("Remove a "+e._s(e.shareType)+" from the "+e._s(e.typeString))]),s("p",{attrs:{slot:"text"},slot:"text"},[e._v("Are you sure you want to remove this "+e._s(e.shareType)+" from the "+e._s(e.typeString)+"?"),s("br"),s("b",[e._v("This CANNOT BE UNDONE!")])])]):e._e()],1)},i=[],n=(s("4160"),s("a434"),s("a9e3"),s("d3b7"),s("159b"),s("2f62")),c=s("276c"),r=s("e954"),l=s("920b"),o=s("92a6"),u=s("0402"),d=s("fbf1"),h=s("f20d"),m=s("b1c6"),p=function(e){Object(l["a"])(s,e);var t=Object(o["a"])(s);function s(e){var a;return Object(c["a"])(this,s),a=t.call(this,e),a.created=new Date(a.created),a.updated=new Date(a.updated),a}return Object(r["a"])(s,[{key:"defaults",value:function(){return{userId:"",right:0,created:null,updated:null}}}]),s}(m["a"]),f=s("2ef0"),v=function(e){Object(l["a"])(s,e);var t=Object(o["a"])(s);function s(){return Object(c["a"])(this,s),t.apply(this,arguments)}return Object(r["a"])(s,[{key:"defaults",value:function(){return Object(f["merge"])(Object(d["a"])(Object(h["a"])(s.prototype),"defaults",this).call(this),{namespaceId:0})}}]),s}(p),b=s("8654"),g=s("737d"),y=function(e){Object(l["a"])(s,e);var t=Object(o["a"])(s);function s(){return Object(c["a"])(this,s),t.call(this,{create:"/namespaces/{namespaceId}/users",getAll:"/namespaces/{namespaceId}/users",update:"/namespaces/{namespaceId}/users/{userId}",delete:"/namespaces/{namespaceId}/users/{userId}"})}return Object(r["a"])(s,[{key:"processModel",value:function(e){return e.created=Object(g["a"])(e.created),e.updated=Object(g["a"])(e.updated),e}},{key:"modelFactory",value:function(e){return new v(e)}},{key:"modelGetAllFactory",value:function(e){return new b["a"](e)}}]),s}(u["a"]),w=function(e){Object(l["a"])(s,e);var t=Object(o["a"])(s);function s(){return Object(c["a"])(this,s),t.apply(this,arguments)}return Object(r["a"])(s,[{key:"defaults",value:function(){return Object(f["merge"])(Object(d["a"])(Object(h["a"])(s.prototype),"defaults",this).call(this),{listId:0})}}]),s}(p),k=function(e){Object(l["a"])(s,e);var t=Object(o["a"])(s);function s(){return Object(c["a"])(this,s),t.call(this,{create:"/lists/{listId}/users",getAll:"/lists/{listId}/users",update:"/lists/{listId}/users/{userId}",delete:"/lists/{listId}/users/{userId}"})}return Object(r["a"])(s,[{key:"processModel",value:function(e){return e.created=Object(g["a"])(e.created),e.updated=Object(g["a"])(e.updated),e}},{key:"modelFactory",value:function(e){return new w(e)}},{key:"modelGetAllFactory",value:function(e){return new b["a"](e)}}]),s}(u["a"]),C=s("93d6"),_=function(e){Object(l["a"])(s,e);var t=Object(o["a"])(s);function s(e){var a;return Object(c["a"])(this,s),a=t.call(this,e),a.created=new Date(a.created),a.updated=new Date(a.updated),a}return Object(r["a"])(s,[{key:"defaults",value:function(){return{teamId:0,right:0,created:null,updated:null}}}]),s}(m["a"]),S=function(e){Object(l["a"])(s,e);var t=Object(o["a"])(s);function s(){return Object(c["a"])(this,s),t.apply(this,arguments)}return Object(r["a"])(s,[{key:"defaults",value:function(){return Object(f["merge"])(Object(d["a"])(Object(h["a"])(s.prototype),"defaults",this).call(this),{namespaceId:0})}}]),s}(_),O=s("6399"),I=function(e){Object(l["a"])(s,e);var t=Object(o["a"])(s);function s(){return Object(c["a"])(this,s),t.call(this,{create:"/namespaces/{namespaceId}/teams",getAll:"/namespaces/{namespaceId}/teams",update:"/namespaces/{namespaceId}/teams/{teamId}",delete:"/namespaces/{namespaceId}/teams/{teamId}"})}return Object(r["a"])(s,[{key:"processModel",value:function(e){return e.created=Object(g["a"])(e.created),e.updated=Object(g["a"])(e.updated),e}},{key:"modelFactory",value:function(e){return new S(e)}},{key:"modelGetAllFactory",value:function(e){return new O["a"](e)}}]),s}(u["a"]),T=function(e){Object(l["a"])(s,e);var t=Object(o["a"])(s);function s(){return Object(c["a"])(this,s),t.apply(this,arguments)}return Object(r["a"])(s,[{key:"defaults",value:function(){return Object(f["merge"])(Object(d["a"])(Object(h["a"])(s.prototype),"defaults",this).call(this),{listId:0})}}]),s}(_),j=function(e){Object(l["a"])(s,e);var t=Object(o["a"])(s);function s(){return Object(c["a"])(this,s),t.call(this,{create:"/lists/{listId}/teams",getAll:"/lists/{listId}/teams",update:"/lists/{listId}/teams/{teamId}",delete:"/lists/{listId}/teams/{teamId}"})}return Object(r["a"])(s,[{key:"processModel",value:function(e){return e.created=Object(g["a"])(e.created),e.updated=Object(g["a"])(e.updated),e}},{key:"modelFactory",value:function(e){return new T(e)}},{key:"modelGetAllFactory",value:function(e){return new O["a"](e)}}]),s}(u["a"]),x=s("0eb6"),A=s("a1b4"),E=s("61be"),D=s("2885"),N={name:"userTeamShare",props:{type:{type:String,default:""},shareType:{type:String,default:""},id:{type:Number,default:0},userIsAdmin:{type:Boolean,default:!1}},data:function(){return{stuffService:Object,stuffModel:Object,searchService:Object,sharable:Object,found:[],searchLabel:"",rights:A,selectedRight:{},typeString:"",sharables:[],showDeleteModal:!1}},components:{multiselect:function(){return{component:s.e("multiselect").then(s.t.bind(null,"8e5f",7)),loading:E["a"],error:D["a"],timeout:6e4}}},computed:Object(n["b"])({userInfo:function(e){return e.auth.info}}),created:function(){if("user"===this.shareType)if(this.searchService=new C["a"],this.sharable=new b["a"],this.searchLabel="username","list"===this.type)this.typeString="list",this.stuffService=new k,this.stuffModel=new w({listId:this.id});else{if("namespace"!==this.type)throw new Error("Unknown type: "+this.type);this.typeString="namespace",this.stuffService=new y,this.stuffModel=new v({namespaceId:this.id})}else{if("team"!==this.shareType)throw new Error("Unkown share type");if(this.searchService=new x["a"],this.sharable=new O["a"],this.searchLabel="name","list"===this.type)this.typeString="list",this.stuffService=new j,this.stuffModel=new T({listId:this.id});else{if("namespace"!==this.type)throw new Error("Unknown type: "+this.type);this.typeString="namespace",this.stuffService=new I,this.stuffModel=new S({namespaceId:this.id})}}this.load()},methods:{load:function(){var e=this;this.stuffService.getAll(this.stuffModel).then((function(t){e.$set(e,"sharables",t),t.forEach((function(t){return e.$set(e.selectedRight,t.id,t.right)}))})).catch((function(t){e.error(t,e)}))},deleteSharable:function(){var e=this;"user"===this.shareType?this.stuffModel.userId=this.sharable.username:"team"===this.shareType&&(this.stuffModel.teamId=this.sharable.id),this.stuffService.delete(this.stuffModel).then((function(){for(var t in e.showDeleteModal=!1,e.sharables)(e.sharables[t].id===e.stuffModel.userId&&"user"===e.shareType||e.sharables[t].id===e.stuffModel.teamId&&"team"===e.shareType)&&e.sharables.splice(t,1);e.success({message:"The "+e.shareType+" was successfully deleted from the "+e.typeString+"."},e)})).catch((function(t){e.error(t,e)}))},add:function(e){var t=this;null===e&&(e=!1),this.stuffModel.right=A.READ,e&&(this.stuffModel.right=A.ADMIN),"user"===this.shareType?this.stuffModel.userId=this.sharable.username:"team"===this.shareType&&(this.stuffModel.teamId=this.sharable.id),this.stuffService.create(this.stuffModel).then((function(){t.success({message:"The "+t.shareType+" was successfully added."},t),t.load()})).catch((function(e){t.error(e,t)}))},toggleType:function(e){var t=this;this.selectedRight[e.id]!==A.ADMIN&&this.selectedRight[e.id]!==A.READ&&this.selectedRight[e.id]!==A.READ_WRITE&&(this.selectedRight[e.id]=A.READ),this.stuffModel.right=this.selectedRight[e.id],"user"===this.shareType?this.stuffModel.userId=e.username:"team"===this.shareType&&(this.stuffModel.teamId=e.id),this.stuffService.update(this.stuffModel).then((function(e){for(var s in t.sharables)(t.sharables[s].username===t.stuffModel.userId&&"user"===t.shareType||t.sharables[s].id===t.stuffModel.teamId&&"team"===t.shareType)&&t.$set(t.sharables[s],"right",e.right);t.success({message:"The "+t.shareType+" right was successfully updated."},t)})).catch((function(e){t.error(e,t)}))},find:function(e){var t=this;""!==e?this.searchService.getAll({},{s:e}).then((function(e){t.$set(t,"found",e)})).catch((function(e){t.error(e,t)})):this.$set(this,"found",[])},clearAll:function(){this.$set(this,"found",[])}}},M=N,$=s("2877"),R=Object($["a"])(M,a,i,!1,null,null,null);t["a"]=R.exports},df03:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"fullpage"},[s("a",{staticClass:"close",on:{click:function(t){return e.back()}}},[s("icon",{attrs:{icon:["far","times-circle"]}})],1),s("h3",[e._v("Create a new team")]),s("form",{on:{submit:function(t){return t.preventDefault(),e.newTeam(t)},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.back()}}},[s("div",{staticClass:"field is-grouped"},[s("p",{staticClass:"control is-expanded",class:{"is-loading":e.teamService.loading}},[s("input",{directives:[{name:"focus",rawName:"v-focus"},{name:"model",rawName:"v-model",value:e.team.name,expression:"team.name"}],staticClass:"input",class:{disabled:e.teamService.loading},attrs:{type:"text",placeholder:"The team's name goes here..."},domProps:{value:e.team.name},on:{input:function(t){t.target.composing||e.$set(e.team,"name",t.target.value)}}})]),s("p",{staticClass:"control"},[s("button",{staticClass:"button is-success noshadow",attrs:{type:"submit"}},[s("span",{staticClass:"icon is-small"},[s("icon",{attrs:{icon:"plus"}})],1),e._v(" Add ")])])]),e.showError&&""===e.team.name?s("p",{staticClass:"help is-danger"},[e._v(" Please specify a name. ")]):e._e()])])},i=[],n=(s("b0c0"),s("a18c")),c=s("6399"),r=s("0eb6"),l=s("9fb0"),o={name:"NewTeam",data:function(){return{teamService:r["a"],team:c["a"],showError:!1}},created:function(){this.teamService=new r["a"],this.team=new c["a"],this.$store.commit(l["e"],!0)},mounted:function(){this.setTitle("Create a new Team")},methods:{newTeam:function(){var e=this;""!==this.team.name?(this.showError=!1,this.teamService.create(this.team).then((function(t){n["a"].push({name:"teams.edit",params:{id:t.id}}),e.success({message:"The team was successfully created."},e)})).catch((function(t){e.error(t,e)}))):this.showError=!0},back:function(){n["a"].go(-1)}}},u=o,d=s("2877"),h=Object(d["a"])(u,a,i,!1,null,null,null);t["default"]=h.exports},f3f3:function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));s("a4d3"),s("4de4"),s("4160"),s("e439"),s("dbb4"),s("b64b"),s("159b");var a=s("fc11");function i(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function n(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?i(Object(s),!0).forEach((function(t){Object(a["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):i(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}},f904:function(e,t,s){"use strict";var a=s("13d9"),i={"text/plain":"Text","text/html":"Url",default:"Text"},n="Copy to clipboard: #{key}, Enter";function c(e){var t=(/mac os x/i.test(navigator.userAgent)?"":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}function r(e,t){var s,r,l,o,u,d,h=!1;t||(t={}),s=t.debug||!1;try{l=a(),o=document.createRange(),u=document.getSelection(),d=document.createElement("span"),d.textContent=e,d.style.all="unset",d.style.position="fixed",d.style.top=0,d.style.clip="rect(0, 0, 0, 0)",d.style.whiteSpace="pre",d.style.webkitUserSelect="text",d.style.MozUserSelect="text",d.style.msUserSelect="text",d.style.userSelect="text",d.addEventListener("copy",(function(a){if(a.stopPropagation(),t.format)if(a.preventDefault(),"undefined"===typeof a.clipboardData){s&&console.warn("unable to use e.clipboardData"),s&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var n=i[t.format]||i["default"];window.clipboardData.setData(n,e)}else a.clipboardData.clearData(),a.clipboardData.setData(t.format,e);t.onCopy&&(a.preventDefault(),t.onCopy(a.clipboardData))})),document.body.appendChild(d),o.selectNodeContents(d),u.addRange(o);var m=document.execCommand("copy");if(!m)throw new Error("copy command was unsuccessful");h=!0}catch(p){s&&console.error("unable to copy using execCommand: ",p),s&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),h=!0}catch(p){s&&console.error("unable to copy using clipboardData: ",p),s&&console.error("falling back to prompt"),r=c("message"in t?t.message:n),window.prompt(r,e)}}finally{u&&("function"==typeof u.removeRange?u.removeRange(o):u.removeAllRanges()),d&&document.body.removeChild(d),l()}return h}e.exports=r}},0,["editor","multiselect"]]);